use nix

# Install agentuity using official installer script if not already installed.
# This keeps the install local to the project (defaults to $HOME/.agentuity) and
# is idempotent: it only runs the installer if `agentuity` is not found.
if ! type agentuity >/dev/null 2>&1; then
	echo "agentuity not found â€” installing via official script..."
	# Run installer in non-interactive mode if supported by the script. The
	# upstream installer will place binaries in $HOME/.agentuity/bin by default.
	curl -fsS https://agentuity.sh | sh || echo "agentuity installer failed"
fi

# Ensure agentuity bin is on PATH (supports default installer location)
if [ -d "$HOME/.agentuity/bin" ]; then
	PATH_add "$HOME/.agentuity/bin"
fi
